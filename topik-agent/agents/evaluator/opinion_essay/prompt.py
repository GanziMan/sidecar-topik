OUTPUT_FORMAT_PROMPT = """
아래 스키마를 따르세요:
{
  "scores": {
    "task_performance": Number,
    "structure": Number,
    "language_use": Number
  },
  "total_score": Number,
  "strengths": [String],
  "weaknesses": [String],
  "improvement_suggestions": [String],
  "overall_feedback": String,
  "model_answer": String,
}
"""


CONTEXT_PROMPT = {
    "sections": [
        {
            "title": "내용 및 과제 수행 (12점)",
            "criteria": [
                {"score": "상(12~9점)",
                 "description": "주제에 대한 명확한 견해 제시, 설득력 있는 근거와 예시로 풍부하게 구성"},
                {"score": "중(8~5점)",
                 "description": "기본적인 견해는 제시했으나 근거나 예시가 다소 부족"},
                {"score": "하(4~0점)",
                 "description": "견해가 불명확하고 근거가 매우 부족하거나 주제와 거리가 멀음"},
            ],
        },
        {
            "title": "글의 전개 구조 (12점)",
            "criteria": [
                {"score": "상(12~9점)",
                 "description": "서론-본론-결론 구조 완비, 단락별 주제 명확, 논리적 흐름 자연스러움"},
                {"score": "중(9~6점)",
                 "description": "기본 구조는 갖추었으나 단락 구성이나 논리 전개에서 일부 미흡"},
                {"score": "하(5~0점)",
                 "description": "논술문 구조를 갖추지 못하고 논리적 연결이 부자연스러움"},
            ],
        },
        {
            "title": "언어 사용 (26점)",
            "criteria": [
                {"score": "상(26~20점)",
                 "description": "고급 수준의 어휘·문법을 다양하게 사용, 높은 정확성, 논술문에 맞는 격식 있는 문체"},
                {"score": "중(18~12점)",
                 "description": "중급 수준의 어휘·문법 사용, 일부 오류 있으나 전반적으로 적절"},
                {"score": "하(10~0점)",
                 "description": "어휘·문법이 제한적이고 오류가 많아 글의 품격이 떨어짐"},
            ],
        },
        {
            "title": "글자수 기준",
            "criteria": [
                {"score": "600자 미만", "description": "5점 감점"},
                {"score": "700자 초과", "description": "3점 감점"},
            ],
        },
    ],
    "guidelines": [
        "문제에서 요구한 과제를 모두 수행하고 내용이 풍부하게 표현되어야 합니다. ‘환경오염으로 생긴 문제점’, ‘환경오염을 줄이기 위한 노력’, ‘실천 방법’을 모두 포함하고 관련 내용을 충분히 기술해야 합니다.",
        "글을 조리 있게 전개해야 하며 도입-전개-마무리 구조를 갖추는 것이 필요합니다. 또한 내용이 전환되면 문단을 바꾸어 쓰는 것이 좋습니다.",
        "중고급 수준의 어휘, 문법으로 문장을 구성해서 언어를 다양하고 풍부하게 사용해야 합니다. 같은 내용이라도 수준 높은 언어를 사용해서 기술하면 ‘언어 사용’에서 높은 점수를 받습니다.",
        "글의 형식성, 격식성에 맞게 써야 합니다. 구어적인 표현을 사용하거나 종결형으로 ‘-ㅂ/습니다, -아/어요’를 사용하면 감점이 됩니다.",
        "글을 개조식으로 쓰지 마십시오.",
    ],
}

FEWSHOT_PROMPT = """
[Few-shot]

# 예시 1: 완벽한 답안 (정답)

[문제]
다음을 참고하여 600~700자로 글을 쓰시오. 단, 문제를 그대로 옮겨 쓰지 마시오. (50점)

창의력은 새로운 것을 생각해 내는 능력이다. 현대 사회는 개인에게 창의력을 더 많이 요구하고 있다.
아래의 내용을 중심으로 ‘창의력의 필요성과 이를 기르기 위한 노력’에 대한 자신의 생각을 쓰라.

• 창의력이 필요한 이유는 무엇인가?
• 창의력을 발휘했을 때 얻을 수 있는 성과는 무엇인가?
• 창의력을 기르기 위해서 어떠한 노력을 할 수 있는가?

[학생 답안]
변화와 발전을 끊임없이 요구하는 현대 사회에서 창의력은 반드시 필요한 역량이다. 창의력은 새로운 관점을 통해 문제를 다르게 바라보게 하며, 정보가 넘쳐나는 시대에 차별화된 통찰을 가능하게 한다. 또한 창의적인 사고는 기존의 틀에 갇히지 않고 새로운 시도를 가능하게 하여 사회 발전을 이끄는 원동력이 된다. 창의력을 발휘하면 개인의 업무 효율을 높이고, 예술·과학 등 다양한 분야에서 새로운 결과물을 만들어낼 수 있다. 예를 들어, 혁신적인 기술이나 상품을 통해 사회에 기여하는 사람들은 모두 창의력을 바탕으로 문제를 해결한 사례다. 창의력을 기르기 위해서는 독서와 다양한 경험을 통해 사고의 폭을 넓히는 것이 중요하다. 더불어 현상 뒤의 원인을 탐색하고 기존의 정답에 안주하지 않는 비판적 사고를 지속적으로 훈련해야 한다. 결국 창의력은 단순한 재능이 아니라 끊임없는 학습과 사고 확장을 통해 길러지는 힘이다. (664 자)

[출력]
{
  "scores": { "task_performance": 25, "structure": 20, "language_use": 5 },
  "total_score": 50,
  "strengths": [
    "문제의 요구사항(창의력의 필요성과 기르는 방법)을 완벽히 충족했습니다.",
    "서론-본론-결론의 구조가 명확하며 논리적 연결이 자연스럽습니다.",
    "풍부한 어휘와 적절한 예시 사용으로 글의 설득력이 높습니다."
  ],
  "weaknesses": [],
  "improvement_suggestions": [
    "결론부에서 핵심 주제를 요약하는 문장을 한 줄 추가하면 완성도가 더 높아질 것입니다."
  ],
  "overall_feedback": "내용 충실도와 구조적 완성도가 매우 뛰어나며, 창의력의 사회적 의미를 깊이 있게 탐구한 모범적인 답안입니다.",
  "model_answer": "변화와 발전을 끊임없이 요구하는 현대 사회에서 창의력은 반드시 필요한 역량이다. 창의력은 새로운 관점을 통해 문제를 다르게 바라보게 하며, 정보가 넘쳐나는 시대에 차별화된 통찰을 가능하게 한다. 또한 창의적인 사고는 기존의 틀에 갇히지 않고 새로운 시도를 가능하게 하여 사회 발전을 이끄는 원동력이 된다. 창의력을 발휘하면 개인의 업무 효율을 높이고, 예술·과학 등 다양한 분야에서 새로운 결과물을 만들어낼 수 있다. 예를 들어, 혁신적인 기술이나 상품을 통해 사회에 기여하는 사람들은 모두 창의력을 바탕으로 문제를 해결한 사례다. 창의력을 기르기 위해서는 독서와 다양한 경험을 통해 사고의 폭을 넓히는 것이 중요하다. 더불어 현상 뒤의 원인을 탐색하고 기존의 정답에 안주하지 않는 비판적 사고를 지속적으로 훈련해야 한다. 결국 창의력은 단순한 재능이 아니라 끊임없는 학습과 사고 확장을 통해 길러지는 힘이다."
}
"""
