OUTPUT_FORMAT_PROMPT = """
아래 스키마를 따르세요:
{
  "scores": {
    "task_performance": Number,
    "structure": Number,
    "language_use": Number
  },
  "total_score": Number,
  "strengths": [String],
  "weaknesses": [String],
  "improvement_suggestions": [String],
  "overall_feedback": String,  
  "char_count": Number,
  "char_count_evaluation": String,
  "model_answer": String, 
}
"""

CONTEXT_PROMPT = {
    "sections": [
        {
            "title": "내용 및 과제 수행 (7점)",
            "criteria": [
                {"score": "상(6~7점)",
                 "description": "주어진 과제를 충실히 수행, 주제와 관련된 내용으로 풍부하고 다양하게 구성"},
                {"score": "중(3~5점)",
                 "description": "과제를 대체로 수행했으나 내용이 다소 부족하거나 일반적"},
                {"score": "하(0~2점)", "description": "과제 수행이 미흡하고 주제와 관련성이 낮음"},
            ],
        },
        {
            "title": "글의 전개 구조 (7점)",
            "criteria": [
                {"score": "상(6~7점)",
                 "description": "도입-전개-마무리 구조가 명확하고 논리적, 단락 구성 적절, 담화 표지 효과적 사용"},
                {"score": "중(3~5점)",
                 "description": "기본적인 구성을 갖추었으나 논리 전개나 연결이 다소 어색"},
                {"score": "하(0~2점)",
                 "description": "구성이 체계적이지 않고 내용 간 연결이 부자연스러움"},
            ],
        },
        {
            "title": "언어 사용 (16점)",
            "criteria": [
                {"score": "상(14~16점)",
                 "description": "중급 이상의 다양하고 풍부한 어휘·문법 사용, 정확성 높음, 격식체 준수"},
                {"score": "중(8~12점)",
                 "description": "기본적인 어휘·문법 사용, 일부 오류 있으나 의미 전달에 큰 무리 없음"},
                {"score": "하(0~6점)",
                 "description": "어휘·문법 사용이 제한적이고 오류가 많아 의미 전달에 지장"},
            ],
        },
        {
            "title": "글자수 기준",
            "criteria": [
                {"score": "200자 미만", "description": "3점 감점"},
                {"score": "300자 초과", "description": "2점 감점"},
            ],
        },
    ],
    "guidelines": [
        "문제에서 요구한 과제를 모두 수행하고 내용이 풍부하게 표현되어야 합니다.",
        "글을 조리 있게 전개해야 하며, 200~300자 내에 도입-전개-마무리 구조를 갖추어야 합니다.",
        "주어진 자료를 정확하게 이해하고 해석해서 기술해야 하며, 결과의 도출도 자료를 바탕으로 해야 합니다. 자료를 임의로 해석하거나 자료와 관계없는 개인의 주장을 쓰지 않도록 주의하십시오.",
        "중급 이상의 어휘, 문법으로 문장을 구성해서 언어를 다양하고 풍부하게 사용하는 것이 좋습니다.",
        "글의 형식성, 격식성에 맞게 써야 합니다. 구어적인 표현을 사용하거나 종결형으로 ‘-ㅂ/습니다, -아/어요’를 사용하면 감점이 됩니다.",
        "글을 개조식으로 쓰지 마십시오.",
    ],
}


FEWSHOT_PROMPT = """
[Few-shot]

# 예시 1: 완벽한 답안 (정답)

[문제]
- 이미지에서 확인된 핵심 정보:
  - 2015년 매출: 편의점 17.2조, 대형마트 24.2조
  - 2022년 매출: 편의점 22.3조(큰 폭 증가), 대형마트 24.3조(정체)
  - 원인: 편의점 수 증가→접근성 향상, 소포장 상품 수요 증가
  - 전망: 2023년 매출은 편의점 > 대형마트

[학생 답안]
최근 몇 년 사이 편의점 매출이 크게 늘고 대형마트는 정체된 모습이다. 점포 수 확대로 접근성이 높아지고, 간편식·소포장 수요가 증가한 것이 주된 원인이다. 이러한 흐름은 내년에도 이어져 편의점 매출이 대형마트를 앞설 것으로 보인다." (245자)

[출력]
{
  "scores": {"task_performance": 7, "structure": 7, "language_use": 16},
  "total_score": 30,
  "strengths": [
    "이미지의 핵심 수치와 추세를 정확히 반영함",
    "원인·전망을 논리적으로 연결",
    "격식체 문장 구성과 어휘 사용이 적절"
  ],
  "weaknesses": [],
  "improvement_suggestions": [
    "결론에서 학습자 관점의 시사점을 한 문장 덧붙이면 완성도가 더 높아집니다."
  ],
  "overall_feedback": "도표의 수치·추세·원인을 균형 있게 반영한 우수한 설명문입니다.",
  "char_count": 245,
  "char_count_evaluation": "적정 범위 내",
  "model_answer": "최근 몇 년 사이 편의점 매출이 크게 늘고 대형마트는 정체된 모습이다. 점포 수 확대로 접근성이 높아지고, 간편식·소포장 수요가 증가한 것이 주된 원인이다. 이러한 흐름은 내년에도 이어져 편의점 매출이 대형마트를 앞설 것으로 보인다."
}
"""
